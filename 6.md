# Hardening Apache


### 1. Esconder la versión de apache

Vamos al archivo `/etc/apache2/apache2.conf` y añadimos la suiguientes líneas:

ServerTokens Prod
ServerSignature Off


### 2. Desactivar el listado de directorios de Apache:

Creamos un directorio llamado prueba y creamos algun archivo:

```bash
$sudo mkdir -p /var/www/html/test
$sudo touch app.py main.py
```
Accedemos a la página y podemos ver el listado del directorio:

![Alt text](image-4.png)

Vamos al fichero de configuración `apache2.conf` y añadimos las siguientes líneas 

```bash
<Directory /var/www/html/test>
Options -Indexes
</Directory>
```

Una vez añadimos la línea reiniciamos y no nos deja ver los directorios:

![Alt text](image-5.png)


### 4. Proteger apache con HTTPS

Editamos el fichero`/etc/apache2/sites-available/default-ssl.conf` y editamos las siguiente líneas:

SSLCertificateFile      /etc/ssl/certs/carlu-server.crt
SSLCertificateKeyFile /etc/ssl/private/carlu-server.key

Ahora tenemos que activar el sitio apache con el comando 

```bash
sudo a2ensite default-ssl
```
Y reiniciamos

```bash
sudo systemctl restart apache2
```

### 5. 


